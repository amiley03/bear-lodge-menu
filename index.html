<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bear Lodge Inn - Made Fresh for Larry</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="hero">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1>Bear Lodge Inn</h1>
            <p class="tagline">Cozy Cabin Diner in the Woods</p>
            <p class="made-for">Made Fresh for Larry</p>
        </div>
    </header>

    <nav class="menu-nav">
        <div class="nav-container">
            <a href="#breakfast" class="nav-item">Breakfast</a>
            <a href="#soups" class="nav-item">Soups</a>
            <a href="#dinners" class="nav-item">Dinners</a>
            <a href="#mexican" class="nav-item">Mexican</a>
            <a href="#air-fryer" class="nav-item">Air Fryer</a>
            <a href="#open-face" class="nav-item">Sandwiches</a>
            <a href="#pizza" class="nav-item">Pizza</a>
            <a href="#chinese" class="nav-item">Chinese</a>
            <a href="#snacks" class="nav-item">Snacks</a>
            <a href="#desserts" class="nav-item">Desserts</a>
            <a href="#shopping" class="nav-item">Shopping</a>
            <a href="#explore" class="nav-item">Chef Bear</a>
            <a href="#guidelines" class="nav-item">Guidelines</a>
        </div>
    </nav>

    <main class="menu-container">
        <!-- Daily Schedule Banner -->
        <section class="schedule-banner">
            <h3>Daily Eating Schedule</h3>
            <div class="schedule-grid" id="schedule-grid">
                <!-- Populated by JS -->
            </div>
            <div class="diet-filters">
                <div class="flare-up-filter">
                    <label>
                        <input type="checkbox" id="flareup-toggle" onchange="toggleFlareUpFilter()">
                        Flare-Up Mode &mdash; Show only gentlest items
                    </label>
                    <p class="filter-description">Hides everything except liquid, soft, and easy-to-swallow foods</p>
                </div>
                <div class="healing-filter">
                    <label>
                        <input type="checkbox" id="healing-toggle" onchange="toggleHealingFilter()">
                        Healing Mode &mdash; Band recovery safe only
                    </label>
                    <p class="filter-description">Ultra-smooth foods for esophageal band healing (2 weeks post-procedure)</p>
                </div>
            </div>
        </section>

        <!-- Menu Sections -->
        <div id="menu-sections">
            <!-- Populated by JS -->
        </div>

        <!-- Shopping Section -->
        <section id="shopping" class="shopping-section">
            <h2>Weekly Shopping List</h2>
            <p class="section-subtitle">Everything Larry needs, ready to order from Walmart</p>

            <div class="shopping-grid" id="shopping-grid">
                <!-- Populated by JS -->
            </div>
        </section>

        <!-- Explore Section (AI Recipe Generator) -->
        <section id="explore" class="explore-section">
            <div class="chef-bear-header">
                <span class="chef-bear-icon">üêª</span>
                <h2>Chef Bear's Kitchen</h2>
                <p class="chef-bear-tagline">AI-powered recipes made safe for Larry</p>
            </div>

            <!-- Recipe of the Day -->
            <div id="recipe-of-day" class="recipe-of-day">
                <h3>üåü Today's Special</h3>
                <div id="daily-recipe-content">
                    <p class="login-prompt">Enter password to see today's AI-generated recipe</p>
                </div>
            </div>

            <!-- Login Gate -->
            <div id="explore-login" class="explore-login">
                <p>Enter the family password to unlock Chef Bear</p>
                <input type="password" id="explore-password" placeholder="Password" onkeypress="if(event.key==='Enter')unlockExplore()">
                <button onclick="unlockExplore()">Unlock the Kitchen</button>
                <p class="explore-error" id="explore-error" style="display:none;">Incorrect password</p>
            </div>

            <!-- AI Interface (hidden until login) -->
            <div id="explore-interface" class="explore-interface" style="display:none;">
                <div id="no-api-key-warning" class="no-api-key" style="display:none;">
                    <p>Chef Bear is sleeping. Ask Nick to wake him up (configure API).</p>
                </div>

                <div class="explore-chat">
                    <h3>What sounds good?</h3>
                    <div class="explore-prompt-ideas">
                        <button onclick="setPrompt('Suggest a comforting soup')">üç≤ Soup</button>
                        <button onclick="setPrompt('Something sweet for dessert')">üçÆ Dessert</button>
                        <button onclick="setPrompt('Easy breakfast idea')">üç≥ Breakfast</button>
                        <button onclick="setPrompt('Make something with shredded chicken')">üçó Chicken</button>
                        <button onclick="setPrompt('A soft pasta dish')">üçù Pasta</button>
                        <button onclick="setPrompt('Cozy comfort food')">üè† Comfort</button>
                    </div>

                    <div class="explore-input">
                        <textarea id="explore-prompt" placeholder="Tell Chef Bear what you're craving..."></textarea>
                        <button onclick="generateRecipe()" id="generate-btn">üêª Cook Something Up!</button>
                    </div>

                    <div id="explore-result" class="explore-result" style="display:none;">
                        <div id="explore-loading" class="explore-loading" style="display:none;">
                            <p>üêª Chef Bear is cooking up something special...</p>
                        </div>
                        <div id="generated-recipe"></div>
                        <div id="recipe-actions" style="display:none;">
                            <button onclick="addGeneratedToMenu()" class="btn-add-recipe">Add to Menu</button>
                            <select id="target-category">
                                <!-- Populated by JS -->
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Guidelines Section -->
        <section id="guidelines" class="guidelines-section">
            <h2>Eating Guidelines for Larry</h2>

            <div class="guidelines-grid">
                <div class="guideline-card good">
                    <h3>The Bear Lodge Way</h3>
                    <ul id="rules-list">
                        <!-- Populated by JS -->
                    </ul>
                </div>

                <div class="guideline-card avoid">
                    <h3>Foods to Avoid</h3>
                    <div id="avoid-list">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>

            <div class="meal-prep-section">
                <h3>Weekly Meal Prep</h3>
                <div class="prep-grid">
                    <div class="prep-card">
                        <h4>Cook on Sunday</h4>
                        <ul id="weekly-prep">
                            <!-- Populated by JS -->
                        </ul>
                    </div>
                    <div class="prep-card">
                        <h4>Always Stock</h4>
                        <ul id="always-stock">
                            <!-- Populated by JS -->
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Recipe Modal -->
    <div id="recipe-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="modal-body">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <footer>
        <p>Bear Lodge Inn &bull; Made with love for Larry</p>
        <p class="footer-note">Designed for portal hypertension & gastroparesis - soft, low-fiber, low-fat comfort foods</p>
        <div style="margin-top: 1rem;">
            <a href="discover.html" style="color: var(--gold); margin-right: 1.5rem;">üõí Discover Safe Foods</a>
            <a href="admin.html" class="admin-link">Edit Menu</a>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
